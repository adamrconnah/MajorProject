<!DOCTYPE HTML>
<html>
<head>
<title>Phenomanal</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
<link rel="stylesheet" type="text/css" href="styles/layout.css">
<script src="scripts/jquery-1.7.2.min.js"></script>
<script src="scripts/jquery.carouFredSel-5.5.2.js"></script>
<script src="scripts/jquery.easing.1.3.js"></script>
<!--[if lt IE 9]>
<script src="scripts/html5.js"></script>
<script src="scripts/css3-mediaqueries.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
<script src="scripts/html5.js"></script>
<script src="scripts/css3-mediaqueries.min.js"></script>
<![endif]-->
</head>
<body>
<div class="wrapper">
	<div id="top" class="clearfix">
		<!-- add in logo -->
		<div id="logo"><img id="logoimage" src="" alt=""> 
		  <h1 id="logotitle">Phenomanal</h1>
		</div>
		<!--/logo-->
		<nav>
		  <ul>
			<li><a href="index.html">Home</a></li>
			<li><a href="#">Data</a></li>
			<li><a href="tree.html">Tree</a></li>
			<li><a href="work.html">Help</a></li>
			<li><a href="#">Contact</a></li>
		  </ul>
		</nav>
	</div>
  <header>
    <h1><span>Kitty</span> ipsum dolor sit amet, attack et orci turpis quis vehicula, pellentesque kittens stuck in a tree I don't like that food feed me hiss. </h1>
    <h2>Fluffy fur et bat tortor in viverra</h2>
  </header>
<aside id="about" class="search">
    

<p>This is the home page for this server.</p>
<p>The creation of this page, and others behind this, are under construction. contact aoc9@aber.ac.uk for any details</p>
<h4>Click headings to expand treee</h4>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>

<script>

	
//this script loads first level of tree.
 $(function() {
        $('.myDiv').click(function() {
            $.get('treescript.php', function(data) {
                $('.myDiv').after("<br><br> " + data);
				

            });
            return false;
        });
    });
	
	

	//<ul><li><a id="MP0003631" class="pheno" href="#">nervous system phenotype</a></li><ul>

</script>
</head>
<body>
<br><br>
<a href="#!" class="myDiv"  >Reset Tree </a>


<script>
ids = new Array();
//this script loads branches dependent on id - has to be below first id ^
//$(".pheno").on("click", function(){

$(document).on("click", ".pheno" ,function(){
var id = $(this).attr("id");
if(jQuery.inArray(id,ids) == -1){	
			ids.push(id);	
			$.ajax({
			type: "POST",
			url: "treescript.php",
			data: { pheno: id}
			}).done(function( msg ) {
			$('#'+id).after(""+msg+"");

				// alert(id);
				});
			}
			else {
			$("."+id).empty();
			ids.splice(id);	

			//could do.  if val is in array. remove all html below?
        }
//$(document).off("click", ".pheno"+id ,function(){


});
/*
$("ul li ul li a").on("click", function(){
var id = $(this).attr("id");

$.ajax({
	type: "POST",
	url: "treescript.php",
	data: { pheno: id}
	}).done(function( msg ) {
     $('#'+id).after("<br>"+msg+"");
	 alert(id);
	});
	 
});*/

</script>
<br>
<br>


</body>
</html>
<!--
/*
function loadphp()
{
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","treescript.php",true);
xmlhttp.send();
}*/
